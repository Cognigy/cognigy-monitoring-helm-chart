{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "target": {
            "limit": 100,
            "matchAny": false,
            "tags": [],
            "type": "dashboard"
          },
          "type": "dashboard"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": 18,
    "links": [],
    "liveNow": false,
    "panels": [
      {
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 43,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 2
            },
            "id": 36,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(increase(cognigy_nlp_classifier_score_rpc_counter_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (container)",
                "legendFormat": "{{container}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Classifier Score Events/min Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 2
            },
            "id": 37,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(increase(cognigy_nlp_classifier_train_rpc_counter_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (container)",
                "legendFormat": "{{container}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Classifier Train Events/min Rate",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "dtdurationms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 11
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.80, sum(rate(cognigy_nlp_classifier_score_rpc_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "80th | {{container}}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.90, sum(rate(cognigy_nlp_classifier_score_rpc_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(rate(cognigy_nlp_classifier_score_rpc_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "99th | {{container}}",
                "range": true,
                "refId": "D"
              }
            ],
            "title": "Classifier Score RPC latency",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "dtdurations"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 11
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.80, sum(rate(cognigy_nlp_classifier_train_rpc_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "80th | {{container}}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.90, sum(rate(cognigy_nlp_classifier_train_rpc_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(rate(cognigy_nlp_classifier_train_rpc_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "99th | {{container}}",
                "range": true,
                "refId": "D"
              }
            ],
            "title": "Classifier Train RPC latency",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 20
            },
            "id": 44,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(increase(cognigy_nlp_classifier_score_rpc_error_counter_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (container)",
                "legendFormat": "{{container}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Classifier Score Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "dtdurationms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 20
            },
            "id": 45,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "sum(increase(cognigy_nlp_classifier_train_rpc_error_counter_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (container)",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Classifier Train Errors",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 0,
              "y": 29
            },
            "id": 65,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(increase(python_gc_collections_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (pod)",
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Classifier Score Garbage Collection",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "fixedColor": "#8ab8ff",
                  "mode": "fixed"
                },
                "custom": {
                  "fillOpacity": 100,
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineWidth": 0,
                  "spanNulls": true
                },
                "mappings": [],
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 10,
              "w": 12,
              "x": 12,
              "y": 29
            },
            "id": 21,
            "options": {
              "alignValue": "center",
              "legend": {
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "mergeValues": true,
              "rowHeight": 0.7,
              "showValue": "always",
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "kube_deployment_spec_replicas{cluster=\"$cluster\", deployment=~\"service-nlp-classifier-.*.-$language\"}",
                "format": "time_series",
                "instant": false,
                "interval": "",
                "legendFormat": "{{deployment}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Classifier replica count",
            "type": "state-timeline"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 39
            },
            "id": 68,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.80, sum(rate(cognigy_nlp_classifier_score_db_load_model_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "80th | {{container}}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.90, sum(rate(cognigy_nlp_classifier_score_db_load_model_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(rate(cognigy_nlp_classifier_score_db_load_model_latency_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "99th | {{container}}",
                "range": true,
                "refId": "D"
              }
            ],
            "title": "Retrieve DB Model Latency",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "decimals": 0,
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 39
            },
            "id": 60,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum (kube_pod_container_status_last_terminated_reason{cluster=\"$cluster\", container=~\"service-nlp-classifier-.*.-$language\"}) by (container, reason)",
                "format": "time_series",
                "hide": false,
                "intervalFactor": 2,
                "legendFormat": "{{container}}  | {{reason}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Container restarts",
            "type": "timeseries"
          }
        ],
        "title": "General",
        "type": "row"
      },
      {
        "collapsed": true,
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 1
        },
        "id": 86,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 4,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "decmbytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Max Cache Size"
                  },
                  "properties": [
                    {
                      "id": "custom.drawStyle",
                      "value": "line"
                    },
                    {
                      "id": "custom.fillOpacity",
                      "value": 0
                    },
                    {
                      "id": "custom.lineWidth",
                      "value": 2
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 1
            },
            "id": 57,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "cognigy_nlp_classifier_score_current_cache_size{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}",
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "min(cognigy_nlp_classifier_score_max_cache_size{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"})",
                "hide": false,
                "legendFormat": "Max Cache Size",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Classifier Score Cache Size",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 9
            },
            "id": 81,
            "options": {
              "displayLabels": [
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": false,
                "expr": "sum by(cacheKey) (cognigy_nlp_classifier_score_cache_item_insertion_counter_total) > 1",
                "instant": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cache Item Insertions >= 2 in Last Interval",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 9
            },
            "id": 85,
            "options": {
              "displayLabels": [
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum by(cacheKey) (cognigy_nlp_classifier_score_cache_item_invalidation_counter_total)",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cache Item Invalidations",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 17
            },
            "id": 83,
            "options": {
              "displayLabels": [
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum by(cacheKey) (cognigy_nlp_classifier_score_cache_item_deletion_counter_total)",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cache Item Deletions",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  }
                },
                "mappings": []
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 17
            },
            "id": 79,
            "options": {
              "displayLabels": [
                "value"
              ],
              "legend": {
                "displayMode": "list",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value"
                ]
              },
              "pieType": "pie",
              "reduceOptions": {
                "calcs": [
                  "lastNotNull"
                ],
                "fields": "",
                "values": false
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum by(cacheKey) (cognigy_nlp_classifier_score_cache_item_retrieval_counter_total)",
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cache Item Retrievals",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "description": "",
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "center",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "filterable": false,
                  "inspect": false
                },
                "displayName": "Model Reference ID",
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "cognigy_nlp_classifier_score_model_file_size_in_bytes (lastNotNull)"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Model File Size"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "cognigy_nlp_classifier_score_model_in_memory_size_in_bytes (lastNotNull)"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Model In-Memory Size"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 25
            },
            "id": 77,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "enablePagination": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": []
            },
            "pluginVersion": "11.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "builder",
                "expr": "cognigy_nlp_classifier_score_model_file_size_in_bytes",
                "format": "time_series",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "builder",
                "expr": "cognigy_nlp_classifier_score_model_in_memory_size_in_bytes",
                "hide": false,
                "legendFormat": "__auto",
                "range": true,
                "refId": "B"
              }
            ],
            "title": "Model Size",
            "transformations": [
              {
                "id": "joinByLabels",
                "options": {
                  "join": [
                    "modelReferenceId"
                  ],
                  "value": "__name__"
                }
              },
              {
                "id": "groupBy",
                "options": {
                  "fields": {
                    "cognigy_nlp_classifier_score_model_file_size_in_bytes": {
                      "aggregations": [
                        "lastNotNull"
                      ],
                      "operation": "aggregate"
                    },
                    "cognigy_nlp_classifier_score_model_in_memory_size_in_bytes": {
                      "aggregations": [
                        "lastNotNull"
                      ],
                      "operation": "aggregate"
                    },
                    "modelReferenceId": {
                      "aggregations": [
                        "last"
                      ],
                      "operation": "groupby"
                    }
                  }
                }
              },
              {
                "id": "filterByValue",
                "options": {
                  "filters": [
                    {
                      "config": {
                        "id": "isNull",
                        "options": {}
                      },
                      "fieldName": "modelReferenceId"
                    }
                  ],
                  "match": "any",
                  "type": "exclude"
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "none"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 25
            },
            "id": 70,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(increase(cognigy_nlp_classifier_score_model_cache_miss_counter_total{cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[1m])) by (pod)",
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A"
              }
            ],
            "title": "Cache Misses / min",
            "type": "timeseries"
          }
        ],
        "title": "NLU Cache",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 2
        },
        "id": 72,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "99th | service-nlp-classifier-train-en"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 2
            },
            "id": 74,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.80, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "80th | {{container}}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.90, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_histogram_seconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "99th | {{container}}",
                "range": true,
                "refId": "D"
              }
            ],
            "title": "Embeddings Train latency",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "smooth",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": true,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "ms"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 2
            },
            "id": 75,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.80, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_per_sentence_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "80th | {{container}}",
                "range": true,
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.90, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_per_sentence_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "90th | {{container}}",
                "range": true,
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "exemplar": true,
                "expr": "histogram_quantile(0.99, sum(rate(cognigy_nlp_classifier_train_embeddings_latency_per_sentence_histogram_milliseconds_bucket{cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[1m])) by (le, container))",
                "hide": false,
                "interval": "",
                "legendFormat": "99th | {{container}}",
                "range": true,
                "refId": "D"
              }
            ],
            "title": "Embeddings Train Latency per Sentence",
            "type": "timeseries"
          }
        ],
        "title": "Embeddings - NLP Embedding",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 3
        },
        "id": 39,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 0,
              "y": 3
            },
            "id": 47,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-score-$language\"}\n) by (pod)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Score CPU Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 11,
              "w": 12,
              "x": 12,
              "y": 3
            },
            "id": 48,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-train-$language\"}\n) by (pod)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Train CPU Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 0.25
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 0,
              "y": 14
            },
            "id": 62,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "increase(container_cpu_cfs_throttled_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\", }[$__rate_interval]) / increase(container_cpu_cfs_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", container=~\"service-nlp-classifier-score-$language\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Score CPU Throttling",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 100,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 0,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "line+area"
                  }
                },
                "mappings": [],
                "max": 1,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "transparent",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 0.25
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": [
                {
                  "__systemRef": "hideSeriesFrom",
                  "matcher": {
                    "id": "byNames",
                    "options": {
                      "mode": "exclude",
                      "names": [
                        "service-nlp-classifier-train-en"
                      ],
                      "prefix": "All except:",
                      "readOnly": true
                    }
                  },
                  "properties": [
                    {
                      "id": "custom.hideFrom",
                      "value": {
                        "legend": false,
                        "tooltip": false,
                        "viz": true
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 9,
              "w": 12,
              "x": 12,
              "y": 14
            },
            "id": 63,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "increase(container_cpu_cfs_throttled_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\", }[$__rate_interval]) / increase(container_cpu_cfs_periods_total{job=\"kubelet\", metrics_path=\"/metrics/cadvisor\", cluster=\"$cluster\", container=~\"service-nlp-classifier-train-$language\"}[$__rate_interval])",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Train CPU Throttling",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "decimals": 2,
                "displayName": "",
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Time"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Time"
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #A"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "CPU Usage"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #B"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "CPU Requests"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #C"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "CPU Requests %"
                    },
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #D"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "CPU Limits"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #E"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "CPU Limits %"
                    },
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "pod"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Pod"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "links",
                      "value": [
                        {
                          "targetBlank": false,
                          "title": "Drill down",
                          "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell"
                        }
                      ]
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 23
            },
            "id": 50,
            "interval": "1m",
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "11.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    kube_pod_container_resource_requests{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_requests{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "C",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    kube_pod_container_resource_limits{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "D",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{cluster=\"$cluster\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\",}\n) by (pod)\n/sum(\n    kube_pod_container_resource_limits{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"cpu\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "E",
                "step": 10
              }
            ],
            "title": "CPU Quota",
            "transformations": [
              {
                "id": "merge",
                "options": {
                  "reducers": []
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true
                  },
                  "includeByName": {},
                  "indexByName": {},
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          }
        ],
        "title": "CPU Load",
        "type": "row"
      },
      {
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "$datasource"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 4
        },
        "id": 41,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 13,
              "w": 12,
              "x": 0,
              "y": 4
            },
            "id": 66,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-score-$language\"}\n) by (pod)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Score Memory Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 2,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "always",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 13,
              "w": 12,
              "x": 12,
              "y": 4
            },
            "id": 53,
            "interval": "1m",
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "maxHeight": 600,
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "9.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-train-$language\"}\n) by (pod)\n",
                "format": "time_series",
                "intervalFactor": 2,
                "legendFormat": "{{pod}}",
                "range": true,
                "refId": "A",
                "step": 10
              }
            ],
            "title": "Classifier Train Memory Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "$datasource"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "decimals": 2,
                "displayName": "",
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Time"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Time"
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #A"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Memory Usage"
                    },
                    {
                      "id": "unit",
                      "value": "bytes"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #B"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Memory Requests"
                    },
                    {
                      "id": "unit",
                      "value": "bytes"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #C"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Memory Requests %"
                    },
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #D"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Memory Limits"
                    },
                    {
                      "id": "unit",
                      "value": "bytes"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value #E"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Memory Limits %"
                    },
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "pod"
                  },
                  "properties": [
                    {
                      "id": "displayName",
                      "value": "Pod"
                    },
                    {
                      "id": "unit",
                      "value": "short"
                    },
                    {
                      "id": "decimals",
                      "value": 2
                    },
                    {
                      "id": "links",
                      "value": [
                        {
                          "targetBlank": false,
                          "title": "Drill down",
                          "url": "/d/6581e46e4e5c7ba40a07646395ef7b23/k8s-resources-pod?var-datasource=$datasource&var-cluster=$cluster&var-namespace=$namespace&var-pod=$__cell"
                        }
                      ]
                    },
                    {
                      "id": "custom.align"
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 7,
              "w": 24,
              "x": 0,
              "y": 17
            },
            "id": 55,
            "interval": "1m",
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "11.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "A",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    kube_pod_container_resource_requests{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "B",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_requests{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "C",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    kube_pod_container_resource_limits{cluster=\"$cluster\", job=\"kube-state-metrics\", cluster=\"$cluster\", namespace=\"$namespace\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", namespace=\"$namespace\", workload=~\"service-nlp-classifier-.*.-$language\", workload_type=\"$type\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "D",
                "step": 10
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "$datasource"
                },
                "editorMode": "code",
                "expr": "sum(\n    container_memory_working_set_bytes{cluster=\"$cluster\", container!=\"\", image!=\"\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n/sum(\n    kube_pod_container_resource_limits{cluster=\"$cluster\", job=\"kube-state-metrics\", resource=\"memory\"}\n  * on(namespace,pod)\n    group_left(workload, workload_type) namespace_workload_pod:kube_pod_owner:relabel{cluster=\"$cluster\", workload=~\"service-nlp-classifier-.*.-$language\"}\n) by (pod)\n",
                "format": "table",
                "instant": true,
                "intervalFactor": 2,
                "legendFormat": "",
                "refId": "E",
                "step": 10
              }
            ],
            "title": "Memory Quota",
            "transformations": [
              {
                "id": "merge",
                "options": {
                  "reducers": []
                }
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true
                  },
                  "includeByName": {},
                  "indexByName": {},
                  "renameByName": {}
                }
              }
            ],
            "type": "table"
          }
        ],
        "title": "Memory Consumption",
        "type": "row"
      }
    ],
    "schemaVersion": 39,
    "tags": [],
    "templating": {
      "list": [
        {
          "current": {
            "selected": false,
            "text": "Prometheus",
            "value": "prometheus"
          },
          "hide": 0,
          "includeAll": false,
          "label": "Data Source",
          "multi": false,
          "name": "datasource",
          "options": [],
          "query": "prometheus",
          "queryValue": "",
          "refresh": 1,
          "regex": "",
          "skipUrlSync": false,
          "type": "datasource"
        },
        {
          "current": {
            "selected": false,
            "text": "None",
            "value": ""
          },
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "definition": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
          "hide": 2,
          "includeAll": false,
          "label": "Cluster",
          "multi": false,
          "name": "cluster",
          "options": [],
          "query": {
            "query": "label_values(up{job=\"kube-state-metrics\"}, cluster)",
            "refId": "Metrics-cluster-Variable-Query"
          },
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "tagValuesQuery": "",
          "tags": [],
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        },
        {
          "current": {
            "selected": false,
            "text": [
              "en"
            ],
            "value": [
              "en"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "$datasource"
          },
          "hide": 0,
          "includeAll": true,
          "label": "Language",
          "multi": true,
          "name": "language",
          "options": [
            {
              "selected": false,
              "text": "All",
              "value": "$__all"
            },
            {
              "selected": true,
              "text": "en",
              "value": "en"
            },
            {
              "selected": false,
              "text": "de",
              "value": "de"
            },
            {
              "selected": false,
              "text": "xx",
              "value": "xx"
            },
            {
              "selected": false,
              "text": "ge",
              "value": "ge"
            },
            {
              "selected": false,
              "text": "ja",
              "value": "ja"
            },
            {
              "selected": false,
              "text": "ko",
              "value": "ko"
            }
          ],
          "query": "en,de,xx,ge,ja,ko",
          "queryValue": "",
          "skipUrlSync": false,
          "type": "custom"
        }
      ]
    },
    "time": {
      "from": "2024-07-01T05:37:02.412Z",
      "to": "2024-07-01T17:37:02.412Z"
    },
    "timeRangeUpdatedDuringEditOrView": false,
    "timepicker": {},
    "timezone": "browser",
    "title": "AI / Service NLP Classifier",
    "uid": "xezPk014z",
    "version": 2,
    "weekStart": ""
  }